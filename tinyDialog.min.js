/*!
 * author:guyue
 * contacts:baidu hi->guyuebupt
 * see https://github.com/YueGuBUPT/tinyDialog
 */
!function(a,b,c){function l(a){var e,f,c=a,d=c.$;d&&(c.isShow||d.css({position:"absolute",_position:"absolute",visibility:"hidden",display:"block"}),e=(h.width()-d.outerWidth(!0))/2,f=(h.height()-d.outerHeight(!0))/(1+1.61803398875),k?d.css({left:b.documentElement.scrollLeft+e,top:b.documentElement.scrollTop+f}):d.css({left:e,top:f}),c.isShow||d.css({position:"fixed",_position:"absolute",visibility:"visible",display:"none"}))}function m(a){a.css({width:g.width(),height:g.height()})}function n(c){var e,g,j,i=this;a.isPlainObject(c)?a.each(d,function(a,b){!d.hasOwnProperty(a)||c.hasOwnProperty(a)&&typeof c[a]==typeof d[a]||(c[a]=b)}):c=d,a.each(c,function(a,b){i[a]=b}),i.isShow=!1,i.$=a(b.createElement("DIV")).addClass(i.warpperCssClass).css({width:i.width,height:i.height}),i.$title=a(b.createElement("DIV")).addClass(i.titleCssClass).html(i.title).appendTo(i.$),i.$contentOuter=a(b.createElement("DIV")).addClass(i.contentOuterCssClass).appendTo(i.$),i.$content=a(b.createElement("DIV")).addClass(i.contentCssClass).html(i.content).appendTo(i.$contentOuter),e=[],j=i.buttons.length,a.each(i.buttons,function(c,d){g=a(b.createElement("DIV")).addClass(i.buttonCssClass).text(d.value).on("click",function(a){d.click&&"function"==typeof d.click?d.click.call(this,a,i)!==!1&&i.hide():i.hide()}),j==c+1&&g.addClass(i.lastButtonCssClass),d.type&&g.addClass(i.otherTypeButtonCssClassPrefix+d.type),e.push(g)}),i.$buttonsArea=a(b.createElement("DIV")).addClass(i.buttonsAreaCssClass),i.$buttonsArea.append.apply(i.$buttonsArea,e).appendTo(i.$),i.closeX&&(i.$closeX=a(b.createElement("DIV")).addClass(i.closeXCssClass).appendTo(i.$),i.$closeX.on("click",function(a){i.clickCloseX&&"function"==typeof i.clickCloseX?i.clickCloseX.call(this,a,i)!==!1&&i.hide():i.hide()})),i.$.appendTo(f),l(i),h.on("resize",function(){l(i)}),k&&h.on("scroll",function(){l(i)}),i.init&&"function"==typeof i.init&&i.init.call(i),i.autoShow&&i.show()}function o(a){return new n(a)}var i,d={title:"\u6d88\u606f",content:"",width:200,height:150,mask:!0,closeX:!1,autoShow:!0,clickCloseX:function(){},init:function(){},warpperCssClass:"tinyDialog_wrapper",titleCssClass:"tinyDialog_title",contentOuterCssClass:"tinyDialog_content_outer",contentCssClass:"tinyDialog_content",buttonsAreaCssClass:"tinyDialog_buttons_area",buttonCssClass:"tinyDialog_button",otherTypeButtonCssClassPrefix:"tinyDialog_button_",lastButtonCssClass:"tinyDialog_last_button",closeXCssClass:"tinyDialog_close_x",buttons:[{value:"\u786e\u5b9a"}]},e={maskCssClass:"tinyDialog_mask"},f=a("body"),g=a(b),h=a(c),j=0,k=/msie 6/i.test(navigator.userAgent);a.fn.outerWidth&&a.fn.outerHeight||a.each(["width","height"],function(b,c){var e;e=c.replace(/./,function(a){return a[0].toUpperCase()}),a.fn["outer"+e]=function(b){var d=this;if(d){var f,e=d[c]();return f={width:["left","right"],height:["top","bottom"]},a.each(f[c],function(a,c){b&&(e+=parseInt(d.css("margin-"+c),10))}),e}return null}}),n.prototype.show=function(){!this.isShow&&this.$&&(this.mask&&(i?i.show():(i=a(b.createElement("DIV")).addClass(e.maskCssClass),k&&(m(i),h.on("resize",function(){m(i)})),i.appendTo(f)),j++),this.$.show(),this.isShow=!0)},n.prototype.hide=function(){this.isShow&&(this.isShow=!1,this.mask&&(j--,i&&0==j&&i.hide()),this.$&&this.$.hide())},n.prototype.remove=function(){this.hide(),this.$.remove()},o.config={defaultOptions:d,otherOptions:e},o.alert=function(b,c,d,e){return new n(a.extend({content:b,buttons:[{value:"\u786e\u5b9a",click:function(a,b){c.call(this,a,b),e||b.remove()}}]},d))},o.confirm=function(b,c,d,e,f){return new n(a.extend({content:b,buttons:[{value:"\u786e\u5b9a",click:function(a,b){c.call(this,a,b),f||b.remove()}},{value:"\u53d6\u6d88",type:"secondary",click:function(a,b){d.call(this,a,b),f||b.remove()}}]},e))},o.prompt=function(b,c,d,e,f,g){var h="tinyDialog_prompt_input";return new n(a.extend({content:['<div style="margin-bottom:5px">',b,'</div><div><input class="',h,'" style="width:175px;padding:6px 4px" value="',c,'"/></div>'].join(""),buttons:[{value:"\u786e\u5b9a",click:function(a,b){d.call(this,a,b,b.$content.find("input."+h).val()),g||b.remove()}},{value:"\u53d6\u6d88",type:"secondary",click:function(a,b){e.call(this,a,b,b.$content.find("input."+h).val()),g||b.remove()}}]},f))},c.tinyDialog=o}($,document,window);